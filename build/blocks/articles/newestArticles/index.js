!function(){"use strict";var e,t={780:function(){var e=window.wp.element,t=window.wp.blocks,a=window.wp.i18n,l=window.wp.blockEditor,n=window.wp.components;function r(){return(0,e.createElement)("hr",{className:"mchymcak-separator"})}function s(){return(0,e.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"7.75",viewBox:"0 0 16 7.75"},(0,e.createElement)("path",{d:"M15.817,135.433h0l-3.266-3.25a.625.625,0,0,0-.882.886l2.193,2.182H.625a.625.625,0,0,0,0,1.25H13.861l-2.193,2.182a.625.625,0,0,0,.882.886l3.266-3.25h0A.626.626,0,0,0,15.817,135.433Z",transform:"translate(3 -132)",fill:"#af0b2b"}))}var c=JSON.parse('{"u2":"mchymcak/newestarticles"}'),i=JSON.parse('{"posts":{"type":"array","default":{}},"all_categories":{"type":"object","default":{}},"categories":{"type":"object","default":{}},"tags":{"type":"object","default":{}},"all_tags":{"type":"object","default":{}},"title":{"type":"string","selector":"h2","attribute":"value","default":"Události, akce, novinky z oboru"},"max_articles":{"type":"integer","attribute":"value","default":4},"order":{"type":"string","attribute":"value","default":"desc"},"archive_link":{"type":"string","attribute":"text","default":""},"archive_text":{"type":"string","attribute":"value","default":"Aktuality"}}');(0,t.registerBlockType)(c.u2,{attributes:i,edit:t=>{const{attributes:c,setAttributes:i}=t,o=wp.data.useSelect((e=>e("core").getEntityRecords("postType","udalosti",{per_page:c.max_articles,order:c.order})),[c.max_articles,c.order]),m=wp.data.useSelect((e=>e("core").getEntityRecords("taxonomy","category")),[]),d=wp.data.useSelect((e=>e("core").getEntityRecords("taxonomy","post_tag")),[]);return(0,e.useEffect)((()=>{if(o&&Object.entries(o).length>0&&(0===Object.entries(c.posts).length||o!==c.posts)&&i({posts:o}),m&&Object.entries(m).length>0&&0===Object.entries(c.all_categories).length){const e={};Object.values(m).forEach((t=>{e[t.id]={id:t.id,name:t.name,link:t.link}})),i({all_categories:e})}if(d&&Object.entries(d).length>0&&0===Object.entries(c.all_tags).length){const e={};Object.values(d).forEach((t=>{e[t.id]={id:t.id,name:t.name,link:t.link}})),i({all_tags:e})}c.posts&&Object.entries(c.posts).length>0&&c.all_categories&&Object.entries(c.all_categories).length>0&&Object.values(c.posts).forEach((e=>{const t={};e.categories.forEach((e=>{t[e]={id:e,name:c.all_categories[e].name,href:c.all_categories[e].link}})),t&&Object.entries(t).length>0&&i({categories:t})})),c.posts&&Object.entries(c.posts).length>0&&c.all_tags&&Object.entries(c.all_tags).length>0&&Object.values(c.posts).forEach((e=>{const t={};e.tags.forEach((e=>{t[e]={id:e,name:c.all_tags[e].name,href:c.all_tags[e].link}})),t&&Object.entries(t).length>0&&i({tags:t})})),void 0!==custom_data&&null!==custom_data&&void 0!==custom_data.udalosti_archive&&null!==custom_data.udalosti_archive&&""===c.archive_link&&i({archive_link:custom_data.udalosti_archive})}),[o,m,d,c.all_categories,c.all_tags,c.max_articles,c.order]),(0,e.createElement)(e.Fragment,null,(0,e.createElement)(l.InspectorControls,null,(0,e.createElement)(n.PanelBody,{initialOpen:!0,title:(0,a.__)("Nastavení Článků","ant-studio-example")},(0,e.createElement)(n.RangeControl,{label:(0,a.__)("Počet Článků","ant-studio-example"),value:c.max_articles,onChange:e=>i({max_articles:e}),min:0,max:12,initialPosition:4}),(0,e.createElement)(r,null),(0,e.createElement)(n.SelectControl,{label:(0,a.__)("Seřazení Článků","ant-studio-example"),value:c.order,options:[{label:"Od Nejnovějšího",value:"desc"},{label:"Od Nejstaršího",value:"asc"}],onChange:e=>{i({order:e})},__nextHasNoMarginBottom:!0}))),(0,e.createElement)("div",(0,l.useBlockProps)({className:"newest-articles"}),(0,e.createElement)(l.BlockControls,{group:"block"}),(0,e.createElement)("div",{className:"newest-header"},(0,e.createElement)(l.RichText,{tagName:"h2",allowedFormats:[],value:c.title,onChange:e=>{i({title:e})}}),(0,e.createElement)("a",{href:c.archive_link},(0,e.createElement)(l.RichText,{tagName:"span",allowedFormats:[],value:c.archive_text,onChange:e=>{i({archive_text:e})}}),(0,e.createElement)(s,null))),(0,e.createElement)("div",{className:"newest-items"},Object.values(c.posts).map((t=>{const a=t.categories,n=t.tags;return(0,e.createElement)("div",{className:"newest-item",key:t.title.rendered},(0,e.createElement)("div",{className:"newest-category"},Object.values(c.all_categories).map(((t,l)=>{if(a&&a.includes(t.id))return(0,e.createElement)("a",{href:t.link,key:t.name},t.name)}))),(0,e.createElement)("div",{className:"newest-date"},t.date.replace("T"," ")),(0,e.createElement)("div",{className:"newest-title"},t.title.rendered),(0,e.createElement)(l.RichText,{tagName:"div",value:t.excerpt.rendered,className:"newest-excerpt"}),(0,e.createElement)("div",{className:"newest-tags"},Object.values(c.all_tags).map(((t,a)=>{if(n&&n.includes(t.id))return(0,e.createElement)("a",{href:t.link,key:t.name},t.name)}))),(0,e.createElement)("div",{className:"newest-link"},(0,e.createElement)("a",{href:t.link,title:t.title.rendered},"Přečíst Více",(0,e.createElement)(s,null))))})))))},save:t=>{let{attributes:a}=t;return(0,e.createElement)("div",l.useBlockProps.save({className:"newest-articles"}),(0,e.createElement)("div",{className:"newest-header"},(0,e.createElement)(l.RichText.Content,{tagName:"h2",value:a.title}),(0,e.createElement)("a",{href:a.archive_link},(0,e.createElement)(l.RichText.Content,{tagName:"span",value:a.archive_text}),(0,e.createElement)(s,null))),(0,e.createElement)("div",{className:"newest-items"},Object.values(a.posts).map((t=>{const n=t.categories,r=t.tags;return(0,e.createElement)("div",{className:"newest-item",key:t.title.rendered},(0,e.createElement)("div",{className:"newest-category"},Object.values(a.all_categories).map(((t,a)=>{if(n&&n.includes(t.id))return(0,e.createElement)("a",{href:t.link,key:t.name},t.name)}))),(0,e.createElement)("div",{className:"newest-date"},t.date.replace("T"," ")),(0,e.createElement)("div",{className:"newest-title"},t.title.rendered),(0,e.createElement)(l.RichText.Content,{tagName:"div",value:t.excerpt.rendered,className:"newest-excerpt"}),(0,e.createElement)("div",{className:"newest-tags"},Object.values(a.all_tags).map(((t,a)=>{if(r&&r.includes(t.id))return(0,e.createElement)("a",{href:t.link,key:t.name},t.name)}))),(0,e.createElement)("div",{className:"newest-link"},(0,e.createElement)("a",{href:t.link,title:t.title.rendered},"Přečíst Více",(0,e.createElement)(s,null))))}))))}})}},a={};function l(e){var n=a[e];if(void 0!==n)return n.exports;var r=a[e]={exports:{}};return t[e](r,r.exports,l),r.exports}l.m=t,e=[],l.O=function(t,a,n,r){if(!a){var s=1/0;for(m=0;m<e.length;m++){a=e[m][0],n=e[m][1],r=e[m][2];for(var c=!0,i=0;i<a.length;i++)(!1&r||s>=r)&&Object.keys(l.O).every((function(e){return l.O[e](a[i])}))?a.splice(i--,1):(c=!1,r<s&&(s=r));if(c){e.splice(m--,1);var o=n();void 0!==o&&(t=o)}}return t}r=r||0;for(var m=e.length;m>0&&e[m-1][2]>r;m--)e[m]=e[m-1];e[m]=[a,n,r]},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={996:0,41:0};l.O.j=function(t){return 0===e[t]};var t=function(t,a){var n,r,s=a[0],c=a[1],i=a[2],o=0;if(s.some((function(t){return 0!==e[t]}))){for(n in c)l.o(c,n)&&(l.m[n]=c[n]);if(i)var m=i(l)}for(t&&t(a);o<s.length;o++)r=s[o],l.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return l.O(m)},a=self.webpackChunkant_studio_test=self.webpackChunkant_studio_test||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var n=l.O(void 0,[41],(function(){return l(780)}));n=l.O(n)}();