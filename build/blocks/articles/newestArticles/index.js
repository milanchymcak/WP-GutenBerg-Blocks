!function(){"use strict";var e,t={128:function(){var e=window.wp.element,t=window.wp.blocks,a=window.wp.i18n,r=window.wp.blockEditor,l=window.wp.components;function n(){return(0,e.createElement)("hr",{className:"mchymcak-separator"})}var s=JSON.parse('{"u2":"mchymcak/newestarticles"}'),i=JSON.parse('{"posts":{"type":"array","default":{}},"all_categories":{"type":"object","default":{}},"categories":{"type":"object","default":{}},"tags":{"type":"object","default":{}},"all_tags":{"type":"object","default":{}},"title":{"type":"string","selector":"h2","attribute":"value","default":"Události, akce, novinky z oboru"},"max_articles":{"type":"integer","attribute":"value","default":4},"order":{"type":"string","attribute":"value","default":"desc"},"archive_link":{"type":"string","attribute":"text","default":""},"archive_text":{"type":"string","attribute":"value","default":"Aktuality"}}');(0,t.registerBlockType)(s.u2,{attributes:i,edit:t=>{const{attributes:s,setAttributes:i}=t,c=wp.data.useSelect((e=>e("core").getEntityRecords("postType","udalosti",{per_page:s.max_articles,order:s.order})),[s.max_articles,s.order]),o=wp.data.useSelect((e=>e("core").getEntityRecords("taxonomy","category")),[]),d=wp.data.useSelect((e=>e("core").getEntityRecords("taxonomy","post_tag")),[]);return(0,e.useEffect)((()=>{if(c&&Object.entries(c).length>0&&(0===Object.entries(s.posts).length||c!==s.posts)&&i({posts:c}),o&&Object.entries(o).length>0&&0===Object.entries(s.all_categories).length){const e={};Object.values(o).forEach((t=>{e[t.id]={id:t.id,name:t.name,link:t.link}})),i({all_categories:e})}if(d&&Object.entries(d).length>0&&0===Object.entries(s.all_tags).length){const e={};Object.values(d).forEach((t=>{e[t.id]={id:t.id,name:t.name,link:t.link}})),i({all_tags:e})}s.posts&&Object.entries(s.posts).length>0&&s.all_categories&&Object.entries(s.all_categories).length>0&&Object.values(s.posts).forEach((e=>{const t={};e.categories.forEach((e=>{t[e]={id:e,name:s.all_categories[e].name,href:s.all_categories[e].link}})),t&&Object.entries(t).length>0&&i({categories:t})})),s.posts&&Object.entries(s.posts).length>0&&s.all_tags&&Object.entries(s.all_tags).length>0&&Object.values(s.posts).forEach((e=>{const t={};e.tags.forEach((e=>{t[e]={id:e,name:s.all_tags[e].name,href:s.all_tags[e].link}})),t&&Object.entries(t).length>0&&i({tags:t})})),void 0!==custom_data&&null!==custom_data&&void 0!==custom_data.udalosti_archive&&null!==custom_data.udalosti_archive&&""===s.archive_link&&i({archive_link:custom_data.udalosti_archive})}),[c,o,d,s.all_categories,s.all_tags,s.max_articles,s.order]),(0,e.createElement)(e.Fragment,null,(0,e.createElement)(r.InspectorControls,null,(0,e.createElement)(l.PanelBody,{initialOpen:!0,title:(0,a.__)("Nastavení Článků","ant-studio-example")},(0,e.createElement)(l.RangeControl,{label:(0,a.__)("Počet Článků","ant-studio-example"),value:s.max_articles,onChange:e=>i({max_articles:e}),min:0,max:12,initialPosition:4}),(0,e.createElement)(n,null),(0,e.createElement)(l.SelectControl,{label:(0,a.__)("Seřazení Článků","ant-studio-example"),value:s.order,options:[{label:"Od Nejnovějšího",value:"desc"},{label:"Od Nejstaršího",value:"asc"}],onChange:e=>{i({order:e})},__nextHasNoMarginBottom:!0}))),(0,e.createElement)("div",(0,r.useBlockProps)({className:"newest-articles"}),(0,e.createElement)(r.BlockControls,{group:"block"}),(0,e.createElement)("div",{className:"newest-header"},(0,e.createElement)(r.RichText,{tagName:"h2",allowedFormats:[],value:s.title,onChange:e=>{i({title:e})}}),(0,e.createElement)(r.RichText,{tagName:"a",href:s.archive_link,allowedFormats:[],value:s.archive_text+'<i class="fa fa-long-arrow-right" aria-hidden="true"></i>',onChange:e=>{i({archive_text:e})}})),(0,e.createElement)("div",{className:"newest-items"},Object.values(s.posts).map((t=>{const a=t.categories,l=t.tags;return(0,e.createElement)("div",{className:"newest-item",key:t.title.rendered},(0,e.createElement)("div",{className:"newest-category"},Object.values(s.all_categories).map(((t,r)=>{if(a&&a.includes(t.id))return(0,e.createElement)("a",{href:t.link,key:t.name},t.name)}))),(0,e.createElement)("div",{className:"newest-date"},t.date.replace("T"," ")),(0,e.createElement)("div",{className:"newest-title"},t.title.rendered),(0,e.createElement)(r.RichText,{tagName:"div",value:t.excerpt.rendered,className:"newest-excerpt"}),(0,e.createElement)("div",{className:"newest-tags"},Object.values(s.all_tags).map(((t,a)=>{if(l&&l.includes(t.id))return(0,e.createElement)("a",{href:t.link,key:t.name},t.name)}))),(0,e.createElement)("div",{className:"newest-link"},(0,e.createElement)("a",{href:t.link,title:t.title.rendered},"Přečíst Více",(0,e.createElement)("i",{className:"fa fa-long-arrow-right","aria-hidden":"true"}))))})))))},save:t=>{let{attributes:a}=t;return(0,e.createElement)("div",r.useBlockProps.save({className:"newest-articles"}),(0,e.createElement)("div",{className:"newest-header"},(0,e.createElement)(r.RichText.Content,{tagName:"h2",value:a.title}),(0,e.createElement)(r.RichText.Content,{tagName:"a",href:a.archive_link,value:a.archive_text+'<i class="fa fa-long-arrow-right" aria-hidden="true"></i>'})),(0,e.createElement)("div",{className:"newest-items"},Object.values(a.posts).map((t=>{const l=t.categories,n=t.tags;return(0,e.createElement)("div",{className:"newest-item",key:t.title.rendered},(0,e.createElement)("div",{className:"newest-category"},Object.values(a.all_categories).map(((t,a)=>{if(l&&l.includes(t.id))return(0,e.createElement)("a",{href:t.link,key:t.name},t.name)}))),(0,e.createElement)("div",{className:"newest-date"},t.date.replace("T"," ")),(0,e.createElement)("div",{className:"newest-title"},t.title.rendered),(0,e.createElement)(r.RichText.Content,{tagName:"div",value:t.excerpt.rendered,className:"newest-excerpt"}),(0,e.createElement)("div",{className:"newest-tags"},Object.values(a.all_tags).map(((t,a)=>{if(n&&n.includes(t.id))return(0,e.createElement)("a",{href:t.link,key:t.name},t.name)}))),(0,e.createElement)("div",{className:"newest-link"},(0,e.createElement)("a",{href:t.link,title:t.title.rendered},"Přečíst Více",(0,e.createElement)("i",{className:"fa fa-long-arrow-right","aria-hidden":"true"}))))}))))}})}},a={};function r(e){var l=a[e];if(void 0!==l)return l.exports;var n=a[e]={exports:{}};return t[e](n,n.exports,r),n.exports}r.m=t,e=[],r.O=function(t,a,l,n){if(!a){var s=1/0;for(d=0;d<e.length;d++){a=e[d][0],l=e[d][1],n=e[d][2];for(var i=!0,c=0;c<a.length;c++)(!1&n||s>=n)&&Object.keys(r.O).every((function(e){return r.O[e](a[c])}))?a.splice(c--,1):(i=!1,n<s&&(s=n));if(i){e.splice(d--,1);var o=l();void 0!==o&&(t=o)}}return t}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[a,l,n]},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={996:0,41:0};r.O.j=function(t){return 0===e[t]};var t=function(t,a){var l,n,s=a[0],i=a[1],c=a[2],o=0;if(s.some((function(t){return 0!==e[t]}))){for(l in i)r.o(i,l)&&(r.m[l]=i[l]);if(c)var d=c(r)}for(t&&t(a);o<s.length;o++)n=s[o],r.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return r.O(d)},a=self.webpackChunkant_studio_test=self.webpackChunkant_studio_test||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var l=r.O(void 0,[41],(function(){return r(128)}));l=r.O(l)}();